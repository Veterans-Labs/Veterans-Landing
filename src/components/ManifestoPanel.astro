---
interface Props {
    lang: string;
    t: {
        languageLabel: string;
        languageOptions: Record<string, string>;
        navbar: Record<string, string>;
        manifesto: Record<string, string>;
    };
    languages: { code: string; label: string }[];
}

const { lang, t, languages } = Astro.props as Props;
---

<div id="manifestoPanel" class="fixed top-0 right-0 h-full w-full max-w-sm border-l-1 border-black shadow-xl z-50 transition-transform duration-300 translate-x-full overflow-y-auto" style="background: url('/images/TESTIMONIALS_FONDO 1.png') center center / 100% 100% no-repeat;">
  <div class="flex items-center justify-between p-4 border-b-2 border-black">
    <div class="flex items-center gap-3">
      <img src="/images/Rectangle 63.png" alt="Veteran" class="w-26 h-26 object-cover rounded" />
      <div>
        <h2 class="pixeled-font font-bold text-lg md:text-xl leading-loose text-black mt-2" style="word-break: keep-all;">{t.manifesto.title}</h2>
      </div>
    </div>
    <button id="closeManifesto" class="bg-[#FFBF0F] text-black text-xs font-bold p-1 rounded border-2 border-black hover:bg-gray-300 transition absolute top-4 right-5" style="box-shadow: 2px 2px 0 0 black;">X</button>
  </div>
  <div class={`ml-3 p-2 text-black leading-loose pixeled-font ${lang === 'zh' || lang === 'hi' ? 'text-[8.5px] sm:text-[9.5px]' : 'text-[5px] sm:text-[5.75px]'}`}>
    <p class="font-bold mb-4">{t.manifesto.welcome}</p>
    <p class="mb-3">{t.manifesto.paragraph1}</p>
    <p class="mb-3">{t.manifesto.paragraph2}</p>
    <p class="mb-3">{t.manifesto.paragraph3}</p>
    <p class="mb-3">{t.manifesto.paragraph4}</p>
    <p class="mb-3">{t.manifesto.paragraph5}</p>
    <p class="mb-3">{t.manifesto.paragraph6}</p>
    <p class="mb-3">{t.manifesto.paragraph7}</p>
    <p class="mb-3">{t.manifesto.paragraph8}</p>
    <p class="mt-6">{t.manifesto.closing}</p>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const panel = document.getElementById('manifestoPanel');
    const closeBtn = document.getElementById('closeManifesto');
    // @ts-ignore
    window.openManifestoPanel = function() {
      if (panel) panel.classList.remove('translate-x-full');
    };
    if (closeBtn && panel) {
      closeBtn.addEventListener('click', () => {
        panel.classList.add('translate-x-full');
      });
    }
  });
</script> 